<div class="container mt-4" style="max-width:700px;">

    <h3 class="mb-3">Category â€“ Product Mapping</h3>

    <!-- CATEGORY DROPDOWN -->
    <mat-form-field appearance="outline" style="width:100%;">
        <mat-label>Select Category</mat-label>
        <mat-select [(ngModel)]="selectedCategoryId" name="category" required>
            <mat-option *ngFor="let c of categoryList" [value]="c.categoryId">
                {{ c.name || 'Unnamed Category' }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <!-- PRODUCTS LIST -->
    <h5 class="mt-3 mb-2">Select Products</h5>

    <div style="max-height:300px; overflow:auto; border:1px solid #ddd; border-radius:6px; padding:10px;">
        <mat-checkbox *ngFor="let p of productList" class="d-block mb-2"
            [checked]="selectedProductIds.includes(p.productId)"
            (change)="onProductSelectionChange(p.productId, $event.checked)">
            {{ p.name }}
        </mat-checkbox>

    </div>

    <!-- ACTION BUTTON -->
    <div class="mt-4 text-right">
        <button mat-raised-button color="primary" [disabled]="loading" (click)="submitMapping()">
            {{ loading ? 'Saving...' : 'Save Mapping' }}
        </button>
    </div>

</div>